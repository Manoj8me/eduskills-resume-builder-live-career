import{r as i,j as e,u as H}from"./index-DvfNA7e1.js";/* empty css                    */import{D as I}from"./DefaultTemplate-DIpoZwMD.js";import{c as S}from"./index-QOMOTb0-.js";import{a as F,F as J,f as B}from"./index-ZuV2_hpp.js";import{a as O}from"./index-KMOcj6xc.js";import"./iconBase-DxD4d99h.js";const W=({value:l,onChange:d,disabled:r,error:m})=>{const x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],[g,a]=i.useState(!1),[c,N]=i.useState(new Date().getFullYear()),h=i.useRef(null),k=new Date().getMonth(),b=new Date().getFullYear();i.useEffect(()=>{const n=p=>{h.current&&!h.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]);const u=n=>{d(`${x[n]} ${c}`),a(!1)},w=l?x.findIndex(n=>l.startsWith(n)):-1,D=l?parseInt(l.split(" ")[1],10):null;return e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-xl"}),e.jsx("input",{type:"text",value:l,onClick:()=>!r&&a(!g),onKeyDown:n=>{if(r){n.preventDefault();return}n.key==="Backspace"?(n.preventDefault(),d(""),a(!1)):n.key!=="Tab"&&n.key!=="ArrowLeft"&&n.key!=="ArrowRight"&&n.preventDefault()},placeholder:"Select a date",className:`custom-input-calendar w-full pl-12 ${m?"error":""}`}),m&&e.jsx("span",{className:"error-icon",children:e.jsx(S,{})}),!m&&l&&e.jsx("span",{className:"success-icon",children:e.jsx(F,{})})]}),g&&!r&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border rounded-lg shadow-lg z-50 p-3 w-64",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-300",children:[e.jsx("button",{type:"button",onClick:()=>N(n=>n-1),className:"px-2 py-1 rounded hover:bg-calendarHover transition-colors",children:e.jsx(J,{className:"text-black text-2xl"})}),e.jsx("button",{type:"button",onClick:()=>{},className:"font-bold px-4 py-2 rounded hover:bg-calendarHover transition-colors flex-1 text-center cursor-default",children:c}),e.jsx("button",{type:"button",onClick:()=>N(n=>n+1),className:"px-2 py-1 rounded hover:bg-calendarHover transition-colors",children:e.jsx(B,{className:"text-black text-2xl"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:x.map((n,p)=>{const v=p===w&&c===D,f=p===k&&c===b;return e.jsx("button",{onClick:()=>u(p),className:`px-3 py-2 rounded transition-colors
                                        ${f?"bg-calendarHover font-bold":""}
                                        ${v&&!f?"bg-calendarHover font-bold":""}                    
                                        ${!v&&!f?"hover:bg-monthHover":""}`,children:n},n)})})]})]})},R=({showModal:l,onClose:d,onNoExperience:r})=>l?e.jsx("div",{className:"fixed inset-0 z-1000 flex items-center justify-center bg-black bg-opacity-50",onClick:d,children:e.jsxs("div",{className:"bg-white rounded-lg px-8 py-8 w-[800px] relative",onClick:m=>m.stopPropagation(),children:[e.jsx("button",{onClick:d,className:"absolute top-5 right-6","aria-label":"Close modal",children:e.jsx(S,{size:20})}),e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"More information required"}),e.jsxs("p",{className:"mb-6 text-xl font-poppins",children:["Looks like you haven't entered any past work experience â€“ we recommend entering at least your last ",e.jsx("span",{className:"font-bold",children:"position"}),"  and  ",e.jsx("span",{className:"font-bold",children:"company"})]}),e.jsxs("div",{className:"flex justify-between mt-auto",children:[e.jsx("div",{children:e.jsx("button",{onClick:r,className:"w-full px-10 py-3 border-black text-[1.5rem] font-poppins font-bold rounded-full border-4 hover:bg-selectCVBackHover",children:"I don't have experience"})}),e.jsx("div",{className:"w-[200px]",children:e.jsx("button",{onClick:d,className:"w-full px- py-3 bg-btnColor text-[1.5rem] font-poppins font-bold rounded-full border border-transparent hover:bg-btnColorHover",children:"Ok"})})]})]})}):null,X=()=>{const l=H(),d=i.useRef(null),[r,m]=i.useState({jobTitle:"",employer:"",startDate:"",endDate:"",currentlyWorking:!1,city:"",country:""}),[x,g]=i.useState({}),[a,c]=i.useState({}),[N,h]=i.useState(!1),[k,b]=i.useState(!1);i.useEffect(()=>{d.current&&d.current.focus()},[]);const u=(t,o)=>{if(t==="currentlyWorking"){o?(m(s=>({...s,currentlyWorking:!0,endDate:""})),c(s=>({...s,endDate:""}))):m(s=>({...s,currentlyWorking:!1}));return}m(s=>({...s,[t]:o})),(t==="startDate"||t==="endDate")&&D(t,o),(t==="jobTitle"||t==="employer")&&a[t]&&o.trim()&&c(s=>({...s,[t]:""}))},w=t=>{g(o=>({...o,[t]:!0})),(t==="startDate"||t==="endDate")&&D(t,r[t]),(t==="jobTitle"||t==="employer")&&((r.startDate||r.endDate&&!r.currentlyWorking)&&!r[t].trim()?c(s=>({...s,[t]:`${t==="jobTitle"?"Job Title":"Employer"} is required`})):c(s=>({...s,[t]:""})))},D=(t,o)=>{let s={...a};const y=new Date,C=T=>{if(!T)return null;const[M,$]=T.split(" "),A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(M);return new Date(parseInt($),A,1)},j=C(t==="startDate"?o:r.startDate),E=C(t==="endDate"?o:r.endDate);j&&j>y?s.startDate="Start date cannot be in the future":s.startDate="",E&&j&&E<j?s.endDate="End date cannot be before start date":s.endDate="",c(s)},n=t=>x[t]&&!a[t]&&r[t].trim().length>0,p=()=>{h(!0);let t={...a},o=!1;const s=r.startDate.trim()!=="",y=r.currentlyWorking||r.endDate.trim()!=="";if(!s&&y&&(t.startDate="Start date is required",o=!0),!r.currentlyWorking&&!y&&s&&(t.endDate="End date is required",o=!0),a.startDate&&(o=!0),a.endDate&&(o=!0),(s||y&&!r.currentlyWorking||r.jobTitle.trim()||r.employer.trim())&&(r.jobTitle.trim()||(t.jobTitle="Job Title is required",o=!0),r.employer.trim()||(t.employer="Employer is required",o=!0)),c(t),o)return;if(!r.jobTitle.trim()&&!r.employer.trim()&&!r.startDate.trim()&&!r.endDate.trim()&&!r.currentlyWorking&&!r.city.trim()&&!r.country.trim()){b(!0);return}l("/build-cv/next-step")},v=()=>b(!1),f=()=>{b(!1),l("/build-cv/tips/educ")};return e.jsxs("div",{className:"flex",style:{minHeight:"100vh",width:"100vw",backgroundColor:"#fff",overflowX:"auto"},children:[e.jsxs("div",{style:{flex:1,maxWidth:"900px",padding:"2rem 3rem 2rem 4rem",display:"flex",flexDirection:"column"},children:[e.jsxs("h1",{className:"text-5xl font-bold mb-4",children:["Add your ",e.jsx("span",{className:"text-experienceText",children:"experience"})]}),e.jsx("p",{className:"mb-8 font-poppins text-[1.1rem]",children:"Start with your most recent job first. You can also add voluntary work, internships or extracurricular activities."}),e.jsx("div",{className:"flex gap-10 mb-4",children:[{name:"jobTitle",label:"Job Title",placeholder:"Retail Sales Associate"},{name:"employer",label:"Employer",placeholder:"ZARA"}].map((t,o)=>e.jsxs("div",{className:`form-group flex-1 ${a[t.name]?"error":""}`,children:[e.jsx("label",{htmlFor:t.name,className:`mb-1 font-bold font-poppins ${a[t.name]?"error-text":""}`,children:t.label}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:o===0?d:null,type:"text",id:t.name,value:r[t.name],onChange:s=>u(t.name,s.target.value),onBlur:()=>w(t.name),placeholder:t.placeholder,className:"custom-input w-full"}),a[t.name]&&e.jsx("span",{className:"error-icon",children:e.jsx(S,{})}),n(t.name)&&e.jsx("span",{className:"success-icon",children:e.jsx(F,{})})]}),a[t.name]&&e.jsx("p",{className:"error-message text-xs",children:a[t.name]})]},t.name))}),e.jsxs("div",{className:"flex gap-10 mb-2 items-start",children:[e.jsxs("div",{className:`form-group flex-1 ${a.startDate?"error":""}`,children:[e.jsx("label",{className:`mb-1 font-bold font-poppins ${a.startDate?"error-text":""}`,children:"Start Date"}),e.jsx(W,{value:r.startDate,onChange:t=>u("startDate",t),error:!!a.startDate}),a.startDate&&e.jsx("p",{className:"error-message text-xs",children:a.startDate})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`form-group ${r.currentlyWorking?"":a.endDate?"error":""}`,children:[e.jsx("label",{className:`mb-1 font-bold font-poppins ${r.currentlyWorking?"text-gray-500":a.endDate?"error-text":"text-black"}`,children:"End Date"}),e.jsx(W,{value:r.endDate,onChange:t=>u("endDate",t),disabled:r.currentlyWorking,error:!!a.endDate&&!r.currentlyWorking}),a.endDate&&!r.currentlyWorking&&e.jsx("p",{className:"error-message text-xs",children:a.endDate})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-5 h-5 cursor-pointer",checked:r.currentlyWorking,onChange:t=>u("currentlyWorking",t.target.checked)}),e.jsx("label",{className:`cursor-pointer select-none ${r.currentlyWorking?"font-bold text-black":"font-normal text-black"}`,children:"I currently work here"})]})]})]}),e.jsx("div",{className:"flex gap-10 mb-8",children:[{name:"city",label:"City (Optional)",placeholder:"New Delhi"},{name:"country",label:"Country (Optional)",placeholder:"India"}].map(t=>e.jsxs("div",{className:"form-group flex-1",children:[e.jsx("label",{htmlFor:t.name,className:"mb-1 font-bold font-poppins",children:t.label}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"text",id:t.name,value:r[t.name],onChange:o=>u(t.name,o.target.value),placeholder:t.placeholder,className:"custom-input w-full"})})]},t.name))}),e.jsxs("div",{className:"flex justify-between mt-auto",children:[e.jsx("div",{className:"w-[200px]",children:e.jsx("button",{onClick:()=>l("/build-cv/contact"),className:"w-full px-4 py-3 border-black text-[1.1rem] font-poppins font-bold rounded-full border-2 hover:bg-selectCVBackHover",children:"Back"})}),e.jsx("div",{className:"w-[200px]",children:e.jsx("button",{onClick:p,className:"w-full px-4 py-3 bg-btnColor text-[1.1rem] font-poppins font-bold rounded-full border border-transparent hover:bg-btnColorHover",children:"Continue"})})]})]}),e.jsx("div",{className:"bg-chooseTemplateBgTopPadding",style:{flexBasis:"700px",minHeight:"100vh",borderLeft:"1px solid #ddd",padding:"2rem",boxSizing:"border-box"},children:e.jsx(I,{jobTitle:r.jobTitle,employer:r.employer,startDate:r.startDate,endDate:r.currentlyWorking?"Present":r.endDate,city:r.city,country:r.country})}),e.jsx(R,{showModal:k,onClose:v,onNoExperience:f})]})};export{X as default};
